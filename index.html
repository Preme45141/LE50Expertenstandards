<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infografik: Expertenstandards in der Pflege</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 60vh;
            }
        }
        .flowchart-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
        }
        .flowchart-step .icon {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        .flowchart-connector {
            display: none;
        }
        @media (min-width: 1024px) {
            .flowchart-connector {
                display: block;
                position: absolute;
                top: 32px;
                left: 100%;
                width: 100%;
                height: 2px;
                transform: translateX(-50%);
            }
            .flowchart-connector::after {
                content: '‚ñ∫';
                position: absolute;
                right: -10px;
                top: -11px;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">

        <header class="text-center py-8 md:py-12">
            <h1 class="text-4xl md:text-6xl font-bold" style="color: #005f73;">Expertenstandards in der Pflege</h1>
            <p class="mt-4 text-lg md:text-xl max-w-3xl mx-auto text-gray-600">Eine visuelle Reise von der Wissenschaft zur Praxis ‚Äì Das Fundament f√ºr qualit√§tsvolles Handeln.</p>
        </header>

        <main class="space-y-16 md:space-y-24">

            <section id="what-are-standards" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                    <div class="md:col-span-1 text-center">
                        <div class="text-8xl font-bold" style="color: #ee9b00;">100%</div>
                        <div class="text-2xl font-semibold mt-2" style="color: #005f73;">Qualit√§t</div>
                        <p class="text-gray-500 mt-1">Wissenschaftlich fundiert</p>
                    </div>
                    <div class="md:col-span-2">
                        <h2 class="text-2xl md:text-3xl font-bold mb-4" style="color: #005f73;">Die Br√ºcke zwischen Forschung und Pflegebett</h2>
                        <p class="text-gray-700 leading-relaxed">
                            Expertenstandards sind keine theoretischen Konstrukte, sondern das Ergebnis intensiver wissenschaftlicher Arbeit, √ºbersetzt in konkrete Handlungsanweisungen f√ºr den Pflegealltag. Entwickelt vom Deutschen Netzwerk f√ºr Qualit√§tsentwicklung in der Pflege (DNQP), definieren sie das Niveau einer sicheren und wirksamen Pflege in Deutschland. Sie stellen sicher, dass pflegerische Entscheidungen auf belegbaren Fakten (Evidenz) und nicht nur auf Tradition oder Intuition basieren.
                        </p>
                    </div>
                </div>
            </section>

            <section id="development-process">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #005f73;">Der Weg zum Standard: Ein 5-Phasen-Prozess</h2>
                <p class="text-center max-w-3xl mx-auto text-gray-600 mb-16">
                    Die Entstehung eines Expertenstandards ist ein systematischer und partizipativer Prozess, der sicherstellt, dass die finale Leitlinie wissenschaftlich fundiert, praxisrelevant und breit akzeptiert ist.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-5 gap-y-12 md:gap-x-8">
                    <div class="flowchart-step">
                        <div class="icon" style="background-color: #94d2bd; color: #005f73;">üí°</div>
                        <h3 class="font-bold text-lg mb-2">1. Themenfindung</h3>
                        <p class="text-sm text-gray-600">Identifikation relevanter Pflegeprobleme und Bedarfe aus der Praxis.</p>
                        <div class="flowchart-connector" style="background-color: #94d2bd; color: #94d2bd;"></div>
                    </div>
                    <div class="flowchart-step">
                        <div class="icon" style="background-color: #94d2bd; color: #005f73;">üìö</div>
                        <h3 class="font-bold text-lg mb-2">2. Literatur- recherche</h3>
                        <p class="text-sm text-gray-600">Systematische Sammlung und Bewertung der besten verf√ºgbaren wissenschaftlichen Evidenz.</p>
                        <div class="flowchart-connector" style="background-color: #94d2bd; color: #94d2bd;"></div>
                    </div>
                    <div class="flowchart-step">
                        <div class="icon" style="background-color: #94d2bd; color: #005f73;">üë•</div>
                        <h3 class="font-bold text-lg mb-2">3. Experten- gruppe</h3>
                        <p class="text-sm text-gray-600">Entwicklung eines Standard-Entwurfs durch ein multidisziplin√§res Team.</p>
                        <div class="flowchart-connector" style="background-color: #94d2bd; color: #94d2bd;"></div>
                    </div>
                    <div class="flowchart-step">
                        <div class="icon" style="background-color: #94d2bd; color: #005f73;">üó£Ô∏è</div>
                        <h3 class="font-bold text-lg mb-2">4. Konsentierung</h3>
                        <p class="text-sm text-gray-600">Diskussion und Abstimmung des Entwurfs auf einer nationalen Konferenz zur Sicherung des Konsenses.</p>
                        <div class="flowchart-connector" style="background-color: #94d2bd; color: #94d2bd;"></div>
                    </div>
                    <div class="flowchart-step">
                        <div class="icon" style="background-color: #94d2bd; color: #005f73;">üîÑ</div>
                        <h3 class="font-bold text-lg mb-2">5. Implementierung & Update</h3>
                        <p class="text-sm text-gray-600">Praxiseinf√ºhrung, Evaluation und regelm√§√üige Aktualisierung alle 5 Jahre.</p>
                    </div>
                </div>
            </section>

            <section id="anatomy">
                 <h2 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #005f73;">Anatomie eines Expertenstandards</h2>
                 <p class="text-center max-w-3xl mx-auto text-gray-600 mb-16">
                    Jeder Standard ist klar in drei Ebenen gegliedert, die zusammen einen Kreislauf der Qualit√§tssicherung bilden. Sie beantworten die Fragen: Was brauchen wir? Was tun wir? Was erreichen wir?
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-2xl shadow-lg text-center border-t-4" style="border-color: #0a9396;">
                        <div class="text-5xl mb-4">üè¢</div>
                        <h3 class="text-2xl font-bold mb-3" style="color: #0a9396;">Strukturebene</h3>
                        <p class="text-gray-600">Definiert die notwendigen Rahmenbedingungen: Qualifikation des Personals, Verf√ºgbarkeit von Materialien und die organisatorischen Voraussetzungen.</p>
                    </div>
                     <div class="bg-white p-6 rounded-2xl shadow-lg text-center border-t-4" style="border-color: #ee9b00;">
                        <div class="text-5xl mb-4">‚öôÔ∏è</div>
                        <h3 class="text-2xl font-bold mb-3" style="color: #ee9b00;">Prozessebene</h3>
                        <p class="text-gray-600">Beschreibt die konkreten pflegerischen Handlungen: von der Einsch√§tzung √ºber die Planung und Durchf√ºhrung bis hin zur Dokumentation der Ma√ünahmen.</p>
                    </div>
                     <div class="bg-white p-6 rounded-2xl shadow-lg text-center border-t-4" style="border-color: #ca6702;">
                        <div class="text-5xl mb-4">üéØ</div>
                        <h3 class="text-2xl font-bold mb-3" style="color: #ca6702;">Ergebnisebene</h3>
                        <p class="text-gray-600">Legt die messbaren Ziele fest, die bei den Patient_innen erreicht werden sollen, z.B. Schmerzreduktion oder Erhalt der Mobilit√§t.</p>
                    </div>
                </div>
            </section>

            <section id="benefits-chart">
                 <h2 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #005f73;">Der Mehrwert in der Praxis</h2>
                 <p class="text-center max-w-3xl mx-auto text-gray-600 mb-16">
                    Expertenstandards schaffen einen klaren Gewinn f√ºr alle Beteiligten. Sie erh√∂hen nicht nur die Versorgungsqualit√§t, sondern st√§rken auch die Professionalit√§t der Pflege und bieten rechtliche Sicherheit.
                </p>
                <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                    <div class="chart-container">
                        <canvas id="benefitsChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="examples-chart">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #005f73;">Standards in Aktion: Konkrete Anwendungsfelder</h2>
                <p class="text-center max-w-3xl mx-auto text-gray-600 mb-16">
                    Expertenstandards decken zentrale Risikobereiche der Pflege ab und geben klare Leitlinien f√ºr hochrelevante Themen, von der Wundversorgung bis zur Beziehungsgestaltung.
                </p>
                <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                    <div class="chart-container" style="height: 500px; max-height: 70vh;">
                         <canvas id="examplesChart"></canvas>
                    </div>
                </div>
            </section>
            
            <section id="ebn-connection">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-12" style="color: #005f73;">Die Wurzel allen Handelns: Evidence-based Nursing (EBN)</h2>
                 <p class="text-center max-w-3xl mx-auto text-gray-600 mb-16">
                    Expertenstandards sind die direkte praktische Anwendung von EBN. Sie b√ºndeln die vier S√§ulen der evidenzbasierten Pflege zu einer national g√ºltigen Leitlinie.
                </p>
                <div class="bg-white p-8 rounded-2xl shadow-lg flex flex-col lg:flex-row items-center justify-center gap-8">
                    <div class="grid grid-cols-2 gap-6 text-center">
                        <div class="p-4 bg-teal-50 rounded-lg">
                            <h4 class="font-bold text-teal-800">Externe Evidenz</h4>
                            <p class="text-sm text-teal-700">Aktuelle Forschung & Studien</p>
                        </div>
                        <div class="p-4 bg-amber-50 rounded-lg">
                            <h4 class="font-bold text-amber-800">Interne Evidenz</h4>
                            <p class="text-sm text-amber-700">Klinische Erfahrung der Pflegekraft</p>
                        </div>
                        <div class="p-4 bg-orange-50 rounded-lg">
                            <h4 class="font-bold text-orange-800">Patienten- pr√§ferenzen</h4>
                            <p class="text-sm text-orange-700">W√ºnsche & Bed√ºrfnisse des Individuums</p>
                        </div>
                         <div class="p-4 bg-gray-100 rounded-lg">
                            <h4 class="font-bold text-gray-800">Verf√ºgbare Ressourcen</h4>
                            <p class="text-sm text-gray-700">Materielle & personelle Gegebenheiten</p>
                        </div>
                    </div>
                    <div class="text-5xl font-bold text-gray-300 mx-8 hidden lg:block">‚ûî</div>
                    <div class="text-5xl font-bold text-gray-300 my-4 lg:hidden">‚¨á</div>
                    <div class="bg-blue-900 text-white p-8 rounded-xl text-center shadow-2xl">
                        <h3 class="text-3xl font-bold">Expertenstandard</h3>
                        <p class="mt-2 opacity-90">Die Synthese f√ºr eine qualit√§tsgesicherte Pflegepraxis</p>
                    </div>
                </div>
            </section>

            <!-- New Section: Case Study Generator -->
            <section id="case-study-generator" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-8" style="color: #005f73;">‚ú® Fallbeispiel-Generator ‚ú®</h2>
                <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">
                    Geben Sie den Namen eines Expertenstandards ein (z.B. "Dekubitusprophylaxe") und lassen Sie sich ein passendes Fallbeispiel generieren, um die Anwendung in der Praxis zu verstehen.
                </p>
                <div class="flex flex-col md:flex-row gap-4 mb-6 max-w-2xl mx-auto">
                    <input type="text" id="standardInput" placeholder="Expertenstandard eingeben (z.B. Dekubitusprophylaxe)" class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" style="border-color: #0a9396;">
                    <button id="generateButton" class="bg-blue-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-800 transition-colors duration-200 shadow-md" style="background-color: #005f73;">
                        Fallbeispiel generieren ‚ú®
                    </button>
                </div>
                <div id="loadingIndicator" class="text-center text-gray-500 mb-4 hidden">Generiere Fallbeispiel...</div>
                <div id="caseStudyOutput" class="bg-gray-50 p-4 rounded-lg border border-gray-200 min-h-[150px] text-gray-700 leading-relaxed whitespace-pre-wrap">
                    Ihr generiertes Fallbeispiel erscheint hier.
                </div>
                <div id="errorMessage" class="text-red-600 text-center mt-4 hidden"></div>
            </section>

        </main>

        <footer class="text-center py-12 mt-16 border-t">
            <p class="text-gray-500">&copy; 2025 | Infografik erstellt zur Visualisierung von Lehrinhalten.</p>
        </footer>

    </div>

    <script>
        // Callback function for Chart.js tooltips to handle wrapped labels
        const tooltipCallback = {
            title: function(tooltipItems) {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                  return label.join(' ');
                }
                return label;
            }
        };
        
        // Function to wrap long labels for Chart.js
        const wrapLabel = (str, maxWidth = 16) => {
            if (str.length <= maxWidth) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxWidth && currentLine.length > 0) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine.length > 0) {
                lines.push(currentLine);
            }
            return lines;
        };

        // Data for the 'benefitsChart'
        const benefitsData = {
            labels: ['Patientensicherheit', 'Professionalit√§t der Pflege', 'Handlungssicherheit', 'Rechtliche Absicherung', 'Effizienz & Qualit√§t'],
            datasets: [{
                label: 'Wirkung der Expertenstandards',
                data: [95, 90, 88, 85, 92],
                backgroundColor: ['#0a9396', '#94d2bd', '#ee9b00', '#ca6702', '#bb3e03'],
                borderColor: '#ffffff',
                borderWidth: 2,
                borderRadius: 5,
            }]
        };

        // Initialize 'benefitsChart'
        const benefitsCtx = document.getElementById('benefitsChart').getContext('2d');
        new Chart(benefitsCtx, {
            type: 'bar',
            data: benefitsData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y', // Horizontal bar chart
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        title: { display: true, text: 'Relativer Nutzen (Illustrativ)', color: '#4b5563' }
                    },
                    y: {
                        ticks: { color: '#1f2937' }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: tooltipCallback,
                        backgroundColor: '#005f73',
                        titleFont: { size: 14, weight: 'bold' },
                        bodyFont: { size: 12 },
                        padding: 10,
                        cornerRadius: 8
                    }
                }
            }
        });

        // Raw labels for the 'examplesChart' (will be wrapped)
        const rawExamplesLabels = [
            'Dekubitusprophylaxe in der Pflege',
            'Sturzprophylaxe in der Pflege',
            'Pflege von Menschen mit chronischen Wunden',
            'Schmerzmanagement in der Pflege',
            'Beziehungsgestaltung in der Pflege von Menschen mit Demenz',
            'F√∂rderung der Harnkontinenz in der Pflege',
            'Ern√§hrungsmanagement zur Sicherung und F√∂rderung der oralen Ern√§hrung'
        ];

        // Data for the 'examplesChart' with wrapped labels
        const examplesData = {
            labels: rawExamplesLabels.map(label => wrapLabel(label, 25)),
            datasets: [{
                label: 'Relevanz im Pflegealltag (Illustrativ)',
                data: [9.2, 9.0, 8.5, 8.8, 9.5, 7.8, 8.2],
                backgroundColor: ['#005f73', '#0a9396', '#94d2bd', '#e9d8a6', '#ee9b00', '#ca6702', '#bb3e03'],
                borderColor: '#ffffff',
                borderWidth: 2
            }]
        };

        // Initialize 'examplesChart'
        const examplesCtx = document.getElementById('examplesChart').getContext('2d');
        new Chart(examplesCtx, {
            type: 'bar',
            data: examplesData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 10,
                        title: { display: true, text: 'Relevanz (Skala 1-10, Illustrativ)', color: '#4b5563' },
                        ticks: { color: '#1f2937' }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: tooltipCallback,
                        backgroundColor: '#005f73',
                        titleFont: { size: 14, weight: 'bold' },
                        bodyFont: { size: 12 },
                        padding: 10,
                        cornerRadius: 8
                    }
                }
            }
        });

        // LLM Integration for Case Study Generator
        const standardInput = document.getElementById('standardInput');
        const generateButton = document.getElementById('generateButton');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const caseStudyOutput = document.getElementById('caseStudyOutput');
        const errorMessage = document.getElementById('errorMessage');

        generateButton.addEventListener('click', generateCaseStudy);

        async function generateCaseStudy() {
            const standardName = standardInput.value.trim();
            caseStudyOutput.textContent = ''; // Clear previous output
            errorMessage.textContent = ''; // Clear previous error
            errorMessage.classList.add('hidden');
            
            if (!standardName) {
                errorMessage.textContent = 'Bitte geben Sie einen Expertenstandard ein.';
                errorMessage.classList.remove('hidden');
                return;
            }

            loadingIndicator.classList.remove('hidden');
            generateButton.disabled = true; // Disable button during generation

            try {
                let chatHistory = [];
                const prompt = `Generiere ein kurzes, realistisches Fallbeispiel (ca. 100-150 W√∂rter) aus dem Pflegealltag, in dem der Expertenstandard '${standardName}' relevant ist und angewendet wird. Beschreibe die Situation, das Problem und wie der Standard zur L√∂sung beitr√§gt.`;
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = ""; // Canvas will automatically provide the API key at runtime
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    caseStudyOutput.textContent = text;
                } else {
                    console.error('Unexpected API response structure:', result);
                    errorMessage.textContent = 'Es gab ein Problem beim Generieren des Fallbeispiels. Bitte versuchen Sie es erneut.';
                    errorMessage.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                errorMessage.textContent = 'Ein Fehler ist aufgetreten: ' + error.message;
                errorMessage.classList.remove('hidden');
            } finally {
                loadingIndicator.classList.add('hidden');
                generateButton.disabled = false; // Re-enable button
            }
        }
    </script>
</body>
</html>
